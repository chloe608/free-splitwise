{% extends "base.html" %}
{% block content %}
  <div class="card center">
    <h1>Welcome</h1>
    <p>Create a username to get started. No password required.</p>
    <form method="post" id="login-form">
      <label>Username</label>
      <input id="username" name="username" placeholder="e.g. chloe.lim" required autocomplete="off">
      <div class="actions">
        <button id="continue-btn" type="submit" class="btn" disabled>Continue</button>
      </div>
    </form>
  </div>

  <script>
    (function(){
      const input = document.getElementById('username');
      const btn = document.getElementById('continue-btn');
      function update(){
        const has = input && input.value.trim().length > 0;
        if(has){
          btn.disabled = false;
          btn.classList.add('btn-active');
        } else {
          btn.disabled = true;
          btn.classList.remove('btn-active');
        }
      }
      if(input){
        input.addEventListener('input', update);
        window.addEventListener('DOMContentLoaded', update);
        update();
      }
    })();
  </script>

{% endblock %}
